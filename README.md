# Disclaimer
This code is not quality controlled and is shared as-is. It has the potential of sending a large number of requests to the Zenius-i-Vanisher servers. Please use responsibly.

Most of the code was generated by AI with little human modification.

# Dependencies
Confirmed to run on a linux/mac with the following:
- Python 3.12
- BeautifulSoup `bs4==0.0.2`

# Quickstart
This script scrapes DDR simfiles from the Zenius-i-Vanisher website.
By default, each simfile is saved in the `simfiles/{DDR version}/` directory.

If a simfile already exists on your local machine, the script will check whether it is up-to-date with ZiV based on the last-modified date, and skip the download accordingly.
As a result, this script is idempotent (assuming nothing breaks).
So in the case all your simfiles are up-to-date, this script will at most download the HTML for each DDR version (20 pages, at time of writing) and not download any simfiles.

## Scrape all
```sh
python scrape_simfiles.py
```
Scrape all simfiles from all major DDR versions, one simfile at a time.
*Before running this command for the first time*, be warned that this is a very slow process due to lack of parallelism.
I recommend manually downloading all the simfiles for each DDR version for the first time, unzipping them, and renaming the folders accordingly.
So you should have a directory structure like this:
```
simfiles
├── 'DDR 1st'
│ ├── Butterfly
│ ├── ...
│ └── 'TRIP MACHINE'
│   └── 'TRIP MACHINE.sm'
├── 'DDR 2nd'
├── 'DDR 3rd'
├── 'DDR 4th'
├── 'DDR 5th'
├── 'DDR 2013'
├── 'DDR 2014'
├── 'DDR A'
├── 'DDR A3'
├── 'DDR A20'
├── 'DDR A20 PLUS'
├── 'DDR EXTREME'
├── 'DDR MAX'
├── 'DDR MAX2'
├── 'DDR SuperNOVA'
├── 'DDR SuperNOVA2'
├── 'DDR WORLD'
├── 'DDR X'
├── 'DDR X2'
└── 'DDR X3'
```

## Scrape by id
```sh
python scrape_simfiles.py 65828 52933
```
Scrape a list of simfiles by their IDs. The above would scrape:
- 65828: "ARACHNE" from WORLD
- 52933: "Lilieze to enryuu Laevateinn" from A3

The script tries to determine the DDR version of each simfile based on the page HTML, but it may break at any time if the page or code logic changes.

# Auto-update with StepMania/ITGMania
Assuming the folder names for each DDR version are named as above, and that they are already in your Step/ITGMania folder, simply symlink the song packs folders to this repo. Example code (WSL):
```sh
cd /<path-to-this-repo>/simfiles
ln -s /mnt/c/Games/ITGmania/Songs/DDR\ * ./
```

# Known issues
- 729: ".59" has a broken zip file as of 2025-7-26.
